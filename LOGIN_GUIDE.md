# 登录功能使用说明

## 功能特性

### 1. 登录页面
- ✅ 用户名/密码输入
- ✅ 图形验证码（Canvas 生成）
- ✅ 记住我功能
- ✅ 忘记密码链接
- ✅ 表单验证
- ✅ 错误提示

### 2. 图形验证码
- ✅ 4位随机字符（字母+数字）
- ✅ 干扰线和干扰点
- ✅ 字符旋转效果
- ✅ 点击刷新功能
- ✅ 颜色随机变化

### 3. 认证流程
- ✅ 自动检查登录状态
- ✅ 登录成功后跳转
- ✅ 记住用户名功能
- ✅ 退出登录功能

## 使用方法

### 1. 访问应用
启动开发服务器后，访问 `http://localhost:9000`

### 2. 登录测试
- **用户名**: 任意用户名
- **密码**: 任意密码
- **验证码**: 输入验证码图片中的字符（不区分大小写）

### 3. 测试验证码
- 点击验证码图片可以刷新
- 点击刷新按钮也可以刷新
- 验证码是随机生成的4位字符

### 4. 记住我功能
- 勾选"记住我"后，下次访问会自动填充用户名
- 用户名会保存在本地存储中

### 5. 退出登录
- 在仪表盘中点击右上角用户头像
- 选择"退出登录"
- 或者使用测试页面的退出按钮

## 技术实现

### 1. 验证码生成
```typescript
// 使用 Canvas API 生成验证码
const generateCaptcha = () => {
  const ctx = canvas.getContext('2d');
  // 生成随机字符
  // 绘制背景、干扰线、干扰点
  // 绘制文字
};
```

### 2. 状态管理
```typescript
// 使用 MobX 管理用户状态
const userStore = useUserStore();
userStore.login(user, token);
userStore.logout();
```

### 3. 路由控制
```typescript
// 简单的路由逻辑
if (token && user) {
  return <MainLayout><Dashboard /></MainLayout>;
} else {
  return <Login />;
}
```

## 注意事项

1. **验证码**: 当前是前端生成的验证码，实际项目中应该由后端生成
2. **认证**: 当前使用 localStorage 存储，实际项目中应该使用更安全的方式
3. **路由**: 当前使用简单的条件渲染，实际项目中应该使用 React Router
4. **API**: 当前是模拟登录，实际项目中需要连接真实的后端 API

## 扩展建议

1. **添加真实路由**: 集成 React Router 实现页面导航
2. **增强安全性**: 使用 JWT token 和 refresh token
3. **添加注册功能**: 实现用户注册页面
4. **密码强度检查**: 添加密码强度验证
5. **多因素认证**: 支持短信验证码或邮箱验证
6. **记住密码**: 实现安全的密码保存功能 